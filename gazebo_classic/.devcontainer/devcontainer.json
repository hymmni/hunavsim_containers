{
    "name": "Hunavsim Gazebo Classic Development",
    "dockerFile": "Dockerfile.hunav_gz_classic11_pmb2",
    "context": "..",
    "workspaceFolder": "/home",
    "customizations": {
        "vscode": {
            "settings": {
                "terminal.integrated.shell.linux": "/bin/bash"
            },
            "extensions": [
                "ms-vscode.cpptools",
                "ms-python.python",
                "ms-azuretools.vscode-docker",
                "ms-iot.vscode-ros",
                "ms-vscode.cpptools",
                "ms-vscode.cpptools-extension-pack",
                "ms-vscode.cmake-tools"
            ]
        }
    },
    "runArgs": [
        "--network=host",
        "--privileged",

        /* -------------------- GPU / NVIDIA 옵션 -------------------- */
        "--gpus=all",
        // "--runtime=nvidia",
        "--env=NVIDIA_VISIBLE_DEVICES=all",
        "--env=NVIDIA_DRIVER_CAPABILITIES=all",

        /* -------------------- DISPLAY / QT 옵션 -------------------- */
        "--env",
        "DISPLAY=${localEnv:DISPLAY}",
        "--env=QT_X11_NO_MITSHM=1",

        /* -------------------- Volume mount -------------------- */
        "--volume",
        "/tmp/.X11-unix:/tmp/.X11-unix:rw",

        /* ros + debugging 관련 기존 설정 유지 */
        "--cap-add=SYS_PTRACE",
        "--security-opt=seccomp:unconfined",
        "--security-opt=apparmor:unconfined",
        "--volume=/dev/input:/dev/input",
        "--volume=/etc/localtime:/etc/localtime",
        "--ipc=host",

        /* ---------------- custom mount from docker run ---------------- */
        "--mount",
        "type=bind,source=${localWorkspaceFolder}/hunav_gz_classic_ws,target=/home/hunav_gz_classic_ws"
    ]
}
